// https://github.com/blendr/pack-unpacker
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.PackUnpacker=t()}}(function(){return function t(e,r,n){function i(a,s){if(!r[a]){if(!e[a]){var f="function"==typeof require&&require;if(!s&&f)return f(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[a]={exports:{}};e[a][0].call(l.exports,function(t){var r=e[a][1][t];return i(r?r:t)},l,l.exports,t,e,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(t,e,r){function n(t,e){this.progress=0,t&&this.init(t,e)}function i(t){for(var e={},r=0;r<256;r++)for(var n=0;n<256;n++)e[String.fromCharCode(r+256*n)]=String.fromCharCode(r)+String.fromCharCode(n);var i=IEBinaryToArray_ByteStr(t),o=IEBinaryToArray_ByteStr_Last(t);return i.replace(/[\s\S]/g,function(t){return e[t]})+o}function o(t){for(var e,r,n,i,o,a,s,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),c=t.length,l=cb=b=bl=v=0,u="";l<c;)e=255&t.charCodeAt(l+0),r=255&t.charCodeAt(l+1),n=255&t.charCodeAt(l+2),i=e>>2&63,o=63&(e<<4|r>>4),a=63&(r<<2|n>>6),s=63&n,u+=f[i]+f[o]+f[a]+f[s],l+=3;return l=c%3,c=u.length,1==l?u=u.substr(0,c-2)+"==":2==l&&(u=u.substr(0,c-1)+"="),u}var a=window.URL||window.webkitURL||window.mozURL||window.msURL;n.isIE=Boolean(document.all);var s=!1;try{s=Boolean(Blob)}catch(t){throw new Error("Unpacker needs blob support to work.")}var f=Boolean(document.all);if(!s){var c=document.createElement("script");c.type="text/vbscript",c.text='Function IEBinaryToArray_ByteStr(Binary)\n\tIEBinaryToArray_ByteStr = CStr(Binary)\nEnd Function\nFunction IEBinaryToArray_ByteStr_Last(Binary)\n\tDim lastIndex\n\tlastIndex = LenB(Binary)\n\tif lastIndex mod 2 Then\n\t\tIEBinaryToArray_ByteStr_Last = Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\n\tElse\n\t\tIEBinaryToArray_ByteStr_Last = ""\n\tEnd If\nEnd Function',document.childNodes[document.childNodes.length-1].appendChild(c)}n.hasBlob=s,n.prototype._getRangeData=function(t,e,r,n){return t.slice?t.slice(e,r,n):t.webkitSlice?t.webkitSlice(e,r,n):t.mozSlice?t.mozSlice(e,r,n):null},n.prototype.init=function(t,e){this.files={};for(var r=e.length-1;r>=0;r--){var n=e[r],i=n[0],o=parseInt(n[1]),a=parseInt(n[2]),s=n[3];this.files[i]={start:o,end:a,type:s,data:this._getRangeData(t,o,a,s)}}},n.prototype._getFile=function(t){if(!t)throw new Error("Missing filename parameter");if(!this.files)throw new Error("No config file loaded.");var e=this.files[t];if(!e)throw new Error("File not found: "+t);return e},n.prototype.getData=function(t){return this._getFile(t).data},n.prototype.getString=function(t){var e=this._getFile(t);return String.fromCharCode.apply(null,new Uint8Array(e.data))},n.prototype.getURI=function(t){var e=this._getFile(t);if(s){var r=new Blob([e.data]);return a.createObjectURL(r)}if(f)return"data:"+e.type+";base64,"+o(i(e.data))},n.init=function(t,e){if(this.inited)throw new Error("Unpacker static instance already initialized.");this._instance=new n(t,e),t&&this._instance.init(t,e),this.inited=!0},e.exports=n},{}],2:[function(t,e,r){function n(){}var i=t("./Unpacker");n.prototype.unpack=function(t,e,r,n,o){var a=new i(e.pack,e.json);for(var s in a.files){var f,c=n.files[s]?n.files[s].type:"text",l=o.serverUrl+s;switch(c){case"arraybuffer":f=a.getData(s);break;case"json":f=JSON.parse(a.getString(s));break;case"image":f=a.getURI(s);break;case"text":default:f=a.getString(s)}r.set(l,f)}},e.exports=n},{"./Unpacker":1}]},{},[2])(2)});